# wikipageconverter
A library we wrote and used for interacting with wiki pages and converting them to different markups.

---------------------

This library is created to enable the migration of the exported format of the PmWiki used at the DTEK wiki, 
where the exported format is generated by the `converter.py` script in the GititWikiImporter repo on dtekcth org.

The interesting function that starts the conversion is probably `findRevisions` (defined in Data/WikiPageConverter/Utils.hs) 
that reads an exported wiki page and parses it to a list of `Revision`s.

The structure of a `Revision` is the following:

```haskell
data Revision = Revision
   { diff    :: Integer
   , author  :: Text
   , comment :: Text
   , content :: Text
   } deriving (Generic, Show)
```

This data type is the intermediate representation that can either be written to Git-versioned files 
(if for instance importing them to a Gitit wiki, using the `Data.WikiPageConverter.Git` module) or written 
to MediaWiki XML-compatible files (with the `Data.WikiPageConverter.MediaWiki` module).

For an example on how to create a binary using this library can be seen at the 
[GititWikiImporter repo](https://github.com/dtekcth/gititwikiimporter)
